#!/bin/sh
#
# Creates a terminal window based on drawn size.
# Requires: urxvt, slop, xdotool

slopoutput="$(slop -t 0 -f '%w %h %x %y')" || exit 1

echo "$slopoutput" \
  | {
      read -r w h x y
      urxvtc
      sleep .01 # hack
      xdotool getactivewindow windowsize "$w" "$h"
      xdotool getactivewindow windowmove "$x" "$y"
    }
