#!/bin/sh
#
# Outputs the title of the focused window continuously.
# Usage: wtitle [format]
# Dependencies: wmutils, wew, wname

format=${1:-"%s"}

wew -m 2097152 | while IFS=: read -r ev wid; do
  case $ev in
    9)
      # shellcheck disable=SC2059
      printf "$format\n" "$(wname "$wid")"
      ;;
  esac
done
